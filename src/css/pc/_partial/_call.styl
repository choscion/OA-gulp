// Call layout
call-layout-mid= 1023px
call-layout-sm = 767px
call-layout-minimum = 510px

#page
  &.fluid
    position fixed
    top 0
    right 0
    bottom 0
    left 0

#header
  .fluid &
    min-width 500px
  .fullscreen &
    position absolute
    top 0
    height 60px
    z-index 50
    width 100%
    transform translateY(-100%)
    transition transform 0.2s ease-out
    &.active
      transform translateY(0)
#container
  .fullscreen &
    min-height 100vh
    min-width 500px
    overflow hidden
  .fluid &
    height initial
    min-width auto
#wrapper
  .fluid &
    overflow initial

#content-full
  width 100%
  position relative
  .fullscreen &
    @media screen and (max-height call-layout-minimum)
      min-height 100vh
  @media screen and (max-height call-layout-minimum)
    min-height 500px

// OA Call screen
.call-wrap
  position absolute
  min-width 500px
  min-height calc(100vh - 60px)
  justify-content center
  overflow hidden
  // Fullscreen
  .fullscreen &
    position static
  // Small
  @media screen and (max-width call-layout-sm)
    justify-content flex-start
  @media screen and (max-height call-layout-minimum)
    min-height 100%
.call-screen-container
  position absolute
  top 0
  right 0
  bottom 0
  left 0
  align-items center
  width 100%
  height 133.33vw
  min-width 300px
  max-width calc(180vh)
  max-height calc(100vh - 60px)
  margin 0 auto
  // Fullscreen
  .fullscreen &
    position static
  // Mid
  @media screen and (max-width call-layout-mid)
    max-width calc(133vh - 60px - 4.5rem)
  // Small
  @media screen and (max-width call-layout-sm)
    flex-direction column
    justify-content center
    max-width calc(66vh - 60px - 1.5rem)
    height 100vh;
    padding 0 1.5rem;
  @media screen and (max-height call-layout-minimum)
    min-height 500px
.call-screen
  position relative
  width 50%
  margin 1.5rem 0.75rem 3rem
  @media screen and (max-width call-layout-mid)
    margin-top 0.5rem
  @media screen and (max-width call-layout-sm)
    margin 0.25rem 0 2.75rem
  &.call-screen-lg
    width 60%
    @media screen and (max-width call-layout-mid)
      width 100%
    // Small + Large
    &:first-child
      @media screen and (max-width call-layout-sm)
        margin-bottom 1.5rem
    &:last-child
      @media screen and (max-width call-layout-mid)
        order -1
      @media screen and (max-width call-layout-sm)
        margin-bottom 1.5rem
  &.call-screen-sm
    position relative
    margin-top 1.5rem
    width 40%
    @media screen and (max-width call-layout-mid)
      position absolute
      right 0
      margin-top 43.8%
      z-index 1
    @media screen and (max-width call-layout-sm)
      position relative
      width 100%
      right auto
      bottom auto
      margin-top 0
    // Small + Large
    &:first-child
      @media screen and (max-width call-layout-mid)
        right auto
        left 0.15rem
      @media screen and (max-width call-layout-sm)
        left auto
  &.call-screen-full
    z-index auto!important
    position static!important
.call-screen-header
  top 0
  left 0
  z-index 1
  &::before
    content ''
    position absolute
    top 0
    left 0
    right 0
    display block
    height 60px
    opacity 0.3
    background linear-gradient(to bottom,rgba(0, 0, 0, 0.8) 0%, rgba(0,0,0,0) 100%);
  .call-screen-full &
    display none!important
.call-screen-body
  position absolute
  top 0
  left 0
  right 0
  bottom 0
  background-color #000
  .call-screen-full &
    top 0
    right 0
    bottom 0
    left: 0
    z-index 10
    width 100vw!important
    height 100%!important
    min-width 500px
    max-height 100%
    margin 0
    border-radius 0!important
    transition none
.call-screen-footer
  opacity 0
  position absolute
  right 0
  bottom -0.2rem
  z-index -1
  transform translateY(120px)
  transition transform 0.2s ease-out
  @media screen and (max-width call-layout-sm)
    right -1rem
  @media screen and (max-width 660px)
    bottom auto
    top 50px
    transform translateY(-50px)
    &:before
      content: '';
      position: absolute;
      bottom: 0;
      left: 0;
      right: 0;
      z-index: 1;
      display: block;
      height: 120px;
      opacity: 0.5;
      background: linear-gradient(to bottom, #000 40%, rgba(0,0,0,0))
  &.active
    z-index 40
    .call-screen-full &
      text-align right
      opacity 1
      transform translateY(0)

      @media screen and (max-width 660px)
        left 0
        width 100%

.call-video
  position: absolute
  background-color #000
  top 0
  right 0
  bottom 0
  left 0
  margin auto
  overflow hidden
  video
    height 100.1%
  &.video-landscape
    video
      .call-wrap &
        object-fit cover
      .call-screen-full &
        object-fit contain
.call-spinner
  font-size 0 
  
  &::before,
  &::after,
  .dot::before,
  .dot::after
    content ''
    display inline-block
    width 7px
    height 7px
    margin 0 1px
    border-radius 50%
    background-color primary
    transform scale(0)
    backface-visibility hidden
    animation call-spinner 1.2s infinite linear both
    vertical-align top
    
  &::before // dot1
    animation-delay -0.375s
  .dot 
    &::before //dot2
      animation-delay -0.25s
    &::after //dot3
      animation-delay -0.125s
  
@keyframes call-spinner {
  0%{
    transform scale(0)
  }
  35% {
    transform scale(1)
  }
  70%, 100% {
    transform scale(0)
  }
}  

.call-control-container
  position absolute
  width 100%
  min-width 500px
  left 0
  bottom 0
  z-index 30
  transform translateY(120px)
  transition transform 0.2s ease-out;
  white-space nowrap
  &.active
    transform translateY(0);
  &::before
    content ''
    position absolute
    bottom 0
    left 0
    right 0
    z-index 20
    display block
    height 120px
    opacity 0.5
    background linear-gradient(to top, #000 0%, rgba(0,0,0,0) 100%);
  & > div
    position absolute
    left 50%
    bottom 1.5rem
    z-index 30
    transform translateX(-50%);
  .btn
    .text-dark
      color #fff!important
.btn-mute,
.btn-stop-video
  &.active
    .avatar
      background-color #fff!important
      color #eb4e3d !important
  &.disabled
    .avatar
      opacity 1
      background-color #cfd4da !important
.btn-mute
  &.active
    .fa-microphone
      &::before
        content "\f131"
.btn-stop-video
  &.active
    .fa-video
      &::before
        content "\f4e2"
.btn-end-call
  .la-phone
    transform rotate(135deg) translate(1px, -1px)
.btn-exit-fullscreen
  @media screen and (max-width 660px)
    padding: 0.375em 0.75rem!important;
    border-radius: 2px;
    position: relative;
    z-index: 1;
.switch-video
  bottom 0
  z-index 1
  input:checked ~ .fa-video-slash
    &::before
      content "\f03d"